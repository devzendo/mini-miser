MiniMiser - a simple embedded database client framework
-------------------------------------------------------
Current outstanding small tasks:

BUGS:
* triggering an update check causes an NPE (that's correctly
  reported using the problem reporter). Closing the problem
  reprter, the status bar still says checking for updates. 
* if you have a db open in the previous list, and open a second instance,
  you get a nasty 'open in another process' dialog.
* sometimes on startup the hourglass sticks - happened soon after adding
  tools->options dialog - have added stuck hourglass detector to CursorManager
  but haven't reproduced it since.
* if you have the message viewer open and remove the last message, it
  correctly shows no messages. if another message comes in, the messages
  button thread activates cycling the colors, but there's (correctly) no
  button present (since the viewer is active). However, the viewer does not
  refresh to show that there are now more messages.

CURRENT TASKS:
* plugins should publish their metadata to a plugin registry, that
  is accessed from the jdbctemplatefactory amongst others e.g.
  dummyapppluginmanager. 
* app plugin should have an email address or web page to which
  reports can be sent - for the problem reporter's dialog, rather
  than the @gumbley.me.uk one. 
* if there is no app plugin, the problem reporter can't get an
  email address, so needs to fall back to the default one for the
  framework
* if there is no app plugin, the framework should terminate after
  displaying the problem reporter - needs to be a way to indicate
  a fatal error to the lifecycle manager that shuts down the
  lifecycles that have initialised already, and does not cause any
  subsequent lifecycles to be started. 
* app plugin should have a copyright text for the about dialog
* plugins need a schema version - add to PluginInitialiser's
  construction of PluginDescriptors
  also - email address

* testing the change log transformer
* add a test that parses all of the resource-based changelog.
* make the about / what's new dialog show the transformed resource-
  based change log
* test the remote file retriever
* add the check for updates menu item
* add the real swing update progress adapter

* sql table view would benefit from the stripe list renderer
  
CURRENT OUTSTANDING BLOCKERS FOR RELEASE:
* The message viewer looks pants on the Mac - use the form
  layout from jgoodies?
* Remove the message queue viewer red-phase-change - or don't do
  it on the Mac since it has no effect there.
* Mac - new file - file chooser doesn't allow creation of folders!
  [ think this is fixed after introduction of quaqua ]
* Mac - ensure correct addition of quaqua to the java.library.path
* Mac - Apple Q doesn't use the mainFrameCloseActionListener and
  doesn't prompt for closing open DBs

* prefs should be stored in platform-specific location, not just ~/.minimiser -
  need ~/Library/Application Support/MiniMiser on Mac OS X
  need Documents and Settings/username/whatever on Windows.

* if 'SQL view available' flag gets disabled in prefs, close any currently-
  open SQL views (with a notification)
* pressing return in sql tab gives a message - should just be ignored (Mac)
* Message queue
* Privacy policy dialog
* Update available checker.

* Help browser

CROSS-PLATFORM UI ISSUES:
* the background to the tabs is the same colour as the tabs, making the tabs
  hard to see (on windows).
  Ditto the tabs in the about box.
* Mac:
  * menu should be on the standard apple menu bar
    * about menu item needs hooking in
    * exit needs hooking in
    * tools->options is prefs on the main menu
  * title should be set properly
  * there are white patches on the dialogs - e.g. the warning
    you get when going into SQL view
  * new database file chooser is unusable - needs create new folder option
  * messages button doesn't pulse.
  * sql view looks too full of layout management lines


-- final tasks before release --
* review all TODOs
* review code complexity, coverage, etc.

* decide final product name
* create logo, draw nice icons
* rename product


DRY / TDD improvements:
* Factor out general HTML-dialog-from-resource code?

* Why do StatusBars need DelayedExecutors?

* database switching via menu does not seem to have been done TDD - 
  addDatabaseSwitchObserver is only called from wireAdapters - add tests

* DRY: createDatabaseWithPluggableOpenBehaviour was duplicated to allow multiple
  databases - this generalisation could be applied to all users of this code,
  then the single db open could be removed. PersistenceUnittestCase
  
* close on startup - problem reporting - closeFailureShouldDisplayAnError
  
* tests for opening a database that had had the opening software termiated on
  it - what about lock files being present on startup?

* change to injecting the StubProblemReporter into all places that
  currently use the ProblemDialog.

* refactoring menuimpl and the menus - loading state from the rest of the
  objects (prefs, opentablist, opendatabaselist), rather than replicating it
  in menustate. had added a factory to stash menustate, but this can go when
  the access via the springloader to the rest of the system objects is
  complete.

* menu updating methods currently pass in state as the menu used to maintain
  its own state which duplicated state held elsewhere (opentablist, open
  databaselist). These methods still receive data from the menumediator
  listeners, but do nothing with it.  

* sql tab:
  * command handlers need to have some tests around them

* passwordEntryDialog & helper - rework this to use the GUIValueObtainer.

* extract an interface from INIFile and allow an instance of this to be passes
  into Prefs. Create a memory-based one for unit tests using a real prefs, but
  without the disk overhead
  
* MessageQueue - need to factor out the handling of DSTA messages (getting /
  setting flags on add/remove)
  
NIGGLES:

DOCUMENTATION:
* fill in the rest of the acks in credits.html

* Add a FAQ to the help contents with notes from the docs page re moving /
  renaming databases.

* about dialog
  * switch to HTML version of GPL2 text - text/plain looks poor
  * upgrade to GPL3?
  * choose licence compatible with all components

* docs to write:
  * privacy policy
  * welcome text
  * changelog text
  * technical doc:
    * database schema
    * database schema model with Jude, versioned as of 0.1
    * architecture
    * coding guidelines, test driven development, listen to checkstyle
    * how to contribute
    * environment setup - eclipse, etc
  * user reference guide
  * getting started guide
  
* blog category
* intro articles

MAVEN / BUILD:
* sort out generation of the app name and version from the pom
* create Maven basic core release contents assembly/dependencies plugin
* create installer for windows
* create .deb package for Ubuntu
* create .app package for Mac OS X
* create .dmg disk image for Mac OS X

OUTSTANDING QUERIES:
* Q: Why prompt for close confirmation if we have databases open, on exit?
  It's not as though you'd lose any data (it is all in a database, after all).

* sourceforge account? Don't forget Enrique's offer!
* trac - Enrique!
* upload v0.1 to sourceforge
* release!


Ideas for menu....

Menu:
File:
  New
  Open
  Close
  Import
  Export
  Printer setup
  Print Page
  Recently Used List
  Exit
  
Edit
  Cut
  Copy
  Paste
  Preferences
  
Accounts:
  Add account
  Reconcile
  Calendar
  Standing Order List

LATER RELEASES:
* Bug reporting dialog - direct to bug database

* decide which currencies to support
* add currency object, entries for all supported currencies
* display flags in pretty list in currency wizard page
* choose a sensible default-selected currency based on system locale
* BUG: Currency symbols don't render correctly on Windows

* change the frame title / tab set depending on the selected database - when
  opening many databases on startup, the display "thrashes". It should not do
  this until the last active database is switched to.

* add 'clear all DSTA flags' option to tools->options
  