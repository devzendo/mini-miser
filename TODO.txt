MiniMiser - a simple personal finance manager program
-----------------------------------------------------
Current outstanding small tasks:

BUILD FAILURE:
* need a (fake) X server running on sirius - added the java.awt.headless
  configuration - this is configured, need to test

BUGS:
* if you have a db open in the previous list, and open a second instance,
  you get a nasty 'open in another process' dialog.
* on mac, after opening / closing recent encrypted and clear files, and
  switching, tabs disappear on encrypted one.
  Open both
  close enc
  open recent enc, enter password
  boom.
* on mac, was sue I did open recent on encrypted, and it opened, without
  prompting for password. may have already had it open, in which case it was
  a switch.
CURRENT TASKS:
* remove coupling between menuimpl and prefs - for tab hidden. menumediator
  needs to handle this.
* need a prefs-changed listener, with section identifiers so we don't rebuild
  the view menu on every window move - the menumediator's prefs listener would
  only trap tab-hidden prefs changes, update the menu's hidden tab settings
  for each tab identifier, then get the menu to rebuild the view menu.
* if 'SQL view available' flag enabled, enable the SQL view (this has been
  generalised in prefs to allow any tab to be hidden, but the prefs dialog
  would only have the SQL one hidable)
* if 'SQL view available' flag gets disabled in prefs, close any currently-
  open SQL views (with a notification)
    
CURRENT OUTSTANDING BLOCKERS FOR RELEASE:
  
* the tab pane set:
  * Opening a new tab:
    * View menu ActionListener runs on EDT
    * Must dispatch to a custom worker thread.
    * Uses the factory to instantiate the list of one tab - factory
      operation is identical to above.
  * Closing an existing tab
    * ????
  * form the View menu from the set of available tabs, add a checkmark to
    currently visible tabs
  * need an OpenTabList object to manage this? Instance per Database, bound
    into the DatabaseDescriptor.
  * switch tab listener?  
  * persist current open tab list on exit
  * open/close/switch tab can be listened for - notifications include the
    database name and tab name
  * the currently open tabs for each database are persisted and restored
  * the currently selected tab for each database is persisted and restored

* temporarily remove currency panel on new database wizard    
* need a message box with an option to never display this message again, with
  the flag to ignore this keyed message being stored in prefs.
* use this when the SQL view is first opened - this is a developer-only
  feature.
 

* prefs should be stored in platform-specific location, not just ~/.minimiser -
  need ~/Library/Application Support/MiniMiser on Mac OS X
  need Documents and Settings/username/whatever on Windows.

* add a prefs dialog
  * follow Apple HIG - no OK/Apply/Cancel lossage, just set the prefs you want
    and close the dialog. If you foul up, just change the settings back. Apply
    any changes on dialog close.
  * use a jtabbedpane with icons for the tabs
  * provide an advanced tab
  * have the 'SQL view available' checkbox on there
  * add ability for checkbox-style flags to be got/set easily in prefs

* how are tabs that are initially hidden set hidden in prefs? there needs to be
  a set of default prefs that are stored on prefs creation.
  

* Update available checker.

* Bug reporting dialog - direct to bug database

CROSS-PLATFORM UI ISSUES:
* the background to the tabs is the same colour as the tabs, making the tabs
  hard to see (on windows).
  Ditto the tabs in the about box.
* Mac:
  * menu should be on the standard apple menu bar
  * title should be set properly
  * there are white patches on the dialogs



-- final tasks before release --
* review all TODOs
* review code complexity, coverage, etc.

* decide final product name
* create logo
* System menu on main window and popups needs logo, not standard Java one.
* rename product


DRY / TDD improvements:
* database switching via menu does not seem to have been done TDD - 
  addDatabaseSwitchObserver is only called from wireAdapters - add tests

* DRY: createDatabaseWithPluggableOpenBehaviour was duplicated to allow multiple
  databases - this generalisation could be applied to all users of this code,
  then the single db open could be removed. PersistenceUnittestCase
  
* close on startup - problem remorting - closeFailureShouldDisplayAnError
  
* tests for opening a database that had had the opening software termiated on
  it - what about lock files being present on startup?

* change to injecting the StubProblemReporter into all places that
  currently use the ProblemDialog.
  
NIGGLES:
* change the frame title / tab set depending on the selected database - when
  opening many databases on startup, the display "thrashes". It should not do
  this until the last active database is switched to.

DOCUMENTATION:
* fill in the rest of the acks in credits.html

* Add a FAQ to the help contents with notes from the docs page re moving /
  renaming databases.

* about dialog
  * switch to HTML version of GPL2 text - text/plain looks poor
  * upgrade to GPL3?

* docs to write:
  * technical doc:
    * database schema
    * database schema model with Jude, versioned as of 0.1
    * architecture
    * coding guidelines
    * how to contribute
  * user reference guide
  * getting started guide
  
* blog category
* intro articles

MAVEN / BUILD:
* sort out generation of the app name and version from the pom
* create Maven basic core release contents assembly/dependencies plugin
* create installer for windows
* create .deb package for Ubuntu
* create .app package for Mac OS X

OUTSTANDING QUERIES:
* Q: Why prompt for close confirmation if we have databases open, on exit?
  It's not as though you'd lose any data (it is all in a database, after all).

* sourceforge account? Don't forget Enrique's offer!
* trac - Enrique!
* upload v0.1 to sourceforge
* release!


Ideas for menu....

Menu:
File:
  New
  Open
  Close
  Import
  Export
  Printer setup
  Print Page
  Recently Used List
  Exit
  
Edit
  Cut
  Copy
  Paste
  Preferences
  
Accounts:
  Add account
  Reconcile
  Calendar
  Standing Order List

LATER RELEASES:

* decide which currencies to support
* add currency object, entries for all supported currencies
* display flags in pretty list in currency wizard page
* choose a sensible default-selected currency based on system locale
* BUG: Currency symbols don't render correctly on Windows
  