MiniMiser - a simple personal finance manager program
-----------------------------------------------------
Current outstanding small tasks:

BUILD FAILURE:
* need a (fake) X server running on sirius - added the java.awt.headless
  configuration

BUGS:
* if you have a db open in the previous list, and open a second instance,
  you get a nasty 'open in another process' dialog.
  
CURRENT TASKS:
* adding stub problem report to the DefaultTabPaneFactoryImpl and adding
  tests to detect tab bean not found problem reports.
  
CURRENT OUTSTANDING BLOCKERS FOR RELEASE:
* the background to the tabs is the same colour as the tabs, making the tabs
  hard to see (on windows).
  Ditto the tabs in the about box.
* the tab pane set:
  * TabPageCreatingDatabaseEventListener - restores / creates tab set upon
    open.
  * Always uses a custom (non-EDT) thread.
  * Needs to find list of tabs to create.
  * Needs to use a factory to instantiate the list of tabs
  * Factory:
    * called on non-EDT, given the JTabbedPane
    * stash the current database descriptor in the DatabaseDescriptorFactory
      at the start of the instantiation
    * define interface for tabs that defines JPanel createComponents() method
    * foreach tab
      * load prototype tab bean, resolving dependencies, NOT on EDT
      * createComponents gets called to create panel on EDT, panel is added to
        the relevant tab on the tabbed pane (on the EDT)
    * remove current database descriptor from the DatabaseDescriptorFactory
  * Opening a new tab:
    * View menu ActionListener runs on EDT
    * Must dispatch to a custom worker thread.
    * Uses the factory to instantiate the list of one tab - factory
      operation is identical to above.
  * Closing an existing tab
    * ????
  * form the View menu from the set of available tabs, add a checkmark to
    currently visible tabs
  * need an OpenTabList object to manage this? Instance per Database, bound
    into the DatabaseDescriptor.
  * switch tab listener?  
  * persist current open tab list on exit

* add the tab pane container - responsibility is adding/removing cards for open/
  closed databases (upon calls from an OpenDatabaseList listener), adding/removing
  tabs for open/closed views (upon calls from menu actionlisteners), switching
  current card to match the current database (upon calls from an OpenDatabaseList
  listener), providing notification mechanism for open/close/switch tab
  
  - create a springbeanlistloader that loads ODL listeners, before database
    opener/close lifecycle
  - instantiate tab pane manager to create the empty card layout panel, after
    the menu, before starting the lifecycles
  - create tabbedpane database event listener that adds jtabbedpanes to
    the dd.
  - add a database event listener that's bound to the ODL after the
    tabbedpane database event listener
    that is an adapter to the tabpanemanager - so that the tabpanemanager
    (which does not implement odl listener but has similar semantics for open/
    switch/close) can get the jtabbedpane out of the dd
    (ordering of these operations is sensitive) and set in the card layout.
    This adapter also enables switch and close behaviour to be handled directly
    by the tab pane manager.
    
  * creates a card layout
  * creates a new card for each new database in the ODL
  * switches to the appropriate card on switch database
  * there is a tab enumeration for the possible view tabs
  * view menu shows views that are currently available
  * availability depends on
    * prefs flags (SQL view)
    * code been written and bound - like menu action listeners and the menu
      builder
  * tabs can be opened or closed. open from the view menu. close? checkboxes in
    view menu?
  * tabs are ordered in the jtabbedpane by their enumeration order
  * tabs can get their database from their base class, which gets it from the
    tab container (jtabbedpane holder) which gets it upon new database opening.
  * open/close/switch tab can be listened for - notifications include the
    database name and tab name
  * the currently open tabs for each database are persisted and restored
  * the currently selected tab for each database is persisted and restored

* temporarily remove currency panel on new database wizard    
* need a message box with an option to never display this message again, with
  the flag to ignore this keyed message being stored in prefs.
* use this when the SQL view is first opened - this is a developer-only
  feature.
 

* prefs should be stored in platform-specific location, not just ~/.minimiser -
  need ~/Library/Application Support/MiniMiser on Mac OS X
  need Documents and Settings/username/whatever on Windows.

* add a prefs dialog
  * follow Apple HIG - no OK/Apply/Cancel lossage, just set the prefs you want
    and close the dialog. If you foul up, just change the settings back. Apply
    any changes on dialog close.
  * use a jtabbedpane with icons for the tabs
  * provide an advanced tab
  * have the 'SQL view available' checkbox on there
  * add ability for checkbox-style flags to be got/set easily in prefs

* if 'SQL view available' flag enabled, enable the SQL view
* if 'SQL view available' flag gets disabled in prefs, close any currently-
  open SQL views.

* Update available checker.

* Bug reporting dialog - direct to bug database


* review all TODOs
* review code complexity, coverage, etc.

* decide final product name
* create logo
* System menu on main window and popups needs logo, not standard Java one.
* rename product


DRY / TDD improvements:
* database switching via menu does not seem to have been done TDD - 
  addDatabaseSwitchObserver is only called from wireAdapters - add tests

* DRY: createDatabaseWithPluggableOpenBehaviour was duplicated to allow multiple
  databases - this generalisation could be applied to all users of this code,
  then the single db open could be removed. PersistenceUnittestCase
  
* close on startup - problem remorting - closeFailureShouldDisplayAnError
  
* tests for opening a database that had had the opening software termiated on
  it - what about lock files being present on startup?

* change to injecting the StubProblemReporter into all places that
  currently use the ProblemDialog.
  
NIGGLES:
* change the frame title / tab set depending on the selected database - when
  opening many databases on startup, the display "thrashes". It should not do
  this until the last active database is switched to.

DOCUMENTATION:
* fill in the rest of the acks in credits.html

* Add a FAQ to the help contents with notes from the docs page re moving /
  renaming databases.

* about dialog
  * switch to HTML version of GPL2 text - text/plain looks poor
  * upgrade to GPL3?

* docs to write:
  * technical doc:
    * database schema
    * database schema model with Jude, versioned as of 0.1
    * architecture
    * coding guidelines
    * how to contribute
  * user reference guide
  * getting started guide
  
* blog category
* intro articles

MAVEN / BUILD:
* sort out generation of the app name and version from the pom
* create Maven basic core release contents assembly/dependencies plugin
* create installer for windows
* create .deb package for Ubuntu
* create .app package for Mac OS X

OUTSTANDING QUERIES:
* Q: Why prompt for close confirmation if we have databases open, on exit?
  It's not as though you'd lose any data (it is all in a database, after all).

* sourceforge account? Don't forget Enrique's offer!
* trac - Enrique!
* upload v0.1 to sourceforge
* release!


Ideas for menu....

Menu:
File:
  New
  Open
  Close
  Import
  Export
  Printer setup
  Print Page
  Recently Used List
  Exit
  
Edit
  Cut
  Copy
  Paste
  Preferences
  
Accounts:
  Add account
  Reconcile
  Calendar
  Standing Order List

LATER RELEASES:

* decide which currencies to support
* add currency object, entries for all supported currencies
* display flags in pretty list in currency wizard page
* choose a sensible default-selected currency based on system locale
* BUG: Currency symbols don't render correctly on Windows
  